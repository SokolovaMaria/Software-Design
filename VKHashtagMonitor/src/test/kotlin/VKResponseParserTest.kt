import org.junit.Test

private const val queryResponse = "{\"response\":{\"items\":[{\"id\":397,\"date\":1540622881,\"owner_id\":-136219073,\"from_id\":-136219073,\"post_type\":\"post\",\"text\":\"Погода в Ижевске: в выходные ожидается снег ❄❄❄\\n\\nРассказываем о погоде с 27 по 29 октября \\n \\nВ выходные в Ижевске ожидается прохладная погода, снег. \\n\\n– Уже ближайшей ночью температура воздуха опустится до -3 °С. Небольшие осадки в виде мокрого снега и дождя в субботу вероятны в северных и центральных районах республики, – рассказала Алла Шумихина. \\n \\nУже 28 октября из-за прихода атлантического циклона, с которым будут связаны умеренные осадки: в северных районах преимущественно в виде снега, в центральных и южных – снега, переходящего в мокрый снег и дождь, а потом вновь в снег. \\n \\n На дорогах будут наблюдаться неблагоприятные явления – накат и гололедица. Температура воздуха составит 0..+5 °С. В ночь на 29 октября местами возможен туман. \\n\\nА теперь подробнее о погоде на выходные и на начало следующей недели. \\n \\nВ субботу, 27 октября, облачно с прояснениями, без осадков. Днем температура воздуха составит +4 градуса, ветер западный 3 м\\/с. Ночью температура опустится до -1 градуса, облачно, без осадков, ветер южный 4 м\\/с. \\n \\nВ воскресенье, 28 октября, облачно, дождь, +4 градуса, ветер западный 4 м\\/с. Ночью до -1, облачно, временами снег, ветер северо-западный 5 м\\/с. \\n \\nВ понедельник, 29 октября, днем будет облачно, временами небольшие осадки, +2 градуса. Ночью до -5 градусов, небольшая облачность, без осадков, ветер северо-западный 5 м\\/с. \\n#мероприятияИжевскМИ #погода\",\"marked_as_ads\":0,\"attachments\":[{\"type\":\"photo\",\"photo\":{\"id\":456239446,\"album_id\":-7,\"owner_id\":-136219073,\"user_id\":100,\"photo_75\":\"https:\\/\\/pp.userapi.com\\/c851236\\/v851236512\\/38733\\/2OsdHsjqes4.jpg\",\"photo_130\":\"https:\\/\\/pp.userapi.com\\/c851236\\/v851236512\\/38734\\/LhzK1c-gw0Q.jpg\",\"photo_604\":\"https:\\/\\/pp.userapi.com\\/c851236\\/v851236512\\/38735\\/4eO2yRhd6W4.jpg\",\"photo_807\":\"https:\\/\\/pp.userapi.com\\/c851236\\/v851236512\\/38736\\/nhZAC6CyTys.jpg\",\"photo_1280\":\"https:\\/\\/pp.userapi.com\\/c851236\\/v851236512\\/38737\\/5zxwODGfGY0.jpg\",\"photo_2560\":\"https:\\/\\/pp.userapi.com\\/c851236\\/v851236512\\/38738\\/y0Dea4RDtk4.jpg\",\"width\":1600,\"height\":1058,\"text\":\"\",\"date\":1540622881,\"post_id\":397,\"access_key\":\"a02ecc4605b05bac23\"}}],\"post_source\":{\"type\":\"api\",\"platform\":\"android\"},\"comments\":{\"count\":0,\"can_post\":1,\"groups_can_post\":true},\"likes\":{\"count\":1,\"user_likes\":0,\"can_like\":1,\"can_publish\":1},\"reposts\":{\"count\":0,\"user_reposted\":0},\"views\":{\"count\":4}},{\"id\":818215,\"date\":1540622721,\"owner_id\":-94314390,\"from_id\":-94314390,\"post_type\":\"post\",\"text\":\"Много дождя и небольшой снег обещают на этих выходных\\n\\nУже сегодня ночью возможен небольшой снегопад, а температура воздуха опустится до нуля градусов. Зато в субботу днём будет до +3°С, но с незначительными осадками в виде дождя. А к вечеру, по данным Gismeteo, будет лить как из ведра, а скорость ветра составит 11 м\\/с.\\n\\n#погода@pro_velikiy\",\"marked_as_ads\":0,\"attachments\":[{\"type\":\"photo\",\"photo\":{\"id\":456289767,\"album_id\":-7,\"owner_id\":-94314390,\"user_id\":100,\"photo_75\":\"https:\\/\\/pp.userapi.com\\/c850720\\/v850720223\\/316c3\\/yELum2p7IGk.jpg\",\"photo_130\":\"https:\\/\\/pp.userapi.com\\/c850720\\/v850720223\\/316c4\\/c6-t3XLuNxI.jpg\",\"photo_604\":\"https:\\/\\/pp.userapi.com\\/c850720\\/v850720223\\/316c5\\/Wx2KCz5BWBE.jpg\",\"photo_807\":\"https:\\/\\/pp.userapi.com\\/c850720\\/v850720223\\/316c6\\/iXTiAnxJob0.jpg\",\"photo_1280\":\"https:\\/\\/pp.userapi.com\\/c850720\\/v850720223\\/316c7\\/KfjfoQzzWig.jpg\",\"width\":1000,\"height\":541,\"text\":\"Original: https:\\/\\/cdn1.img.sputnik.tj\\/images\\/102344\\/56\\/1023445648.jpg\",\"date\":1540622721,\"post_id\":818215,\"access_key\":\"801e7e04db7457f5ca\"}}],\"post_source\":{\"type\":\"vk\"},\"comments\":{\"count\":0,\"can_post\":1,\"groups_can_post\":true},\"likes\":{\"count\":0,\"user_likes\":0,\"can_like\":1,\"can_publish\":1},\"reposts\":{\"count\":0,\"user_reposted\":0},\"views\":{\"count\":164}}],\"count\":2,\"total_count\":2}}"


class VKResponseParserTest {
    val parser = VKResponseParser(queryResponse)

    @Test
    fun testParseCount() {
        assert(parser.count == 2)
    }

    @Test
    fun testParseItems() {
        assert(parser.items.size() == 2)
    }

    @Test
    fun testNextPage() {
        assert(parser.nextPage.isEmpty())
    }
}